<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test website</title>
</head>
<body>
    <h1>This is my website!</h1>

    </p>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus quas repudiandae exercitationem eius minima quibusdam ab incidunt, nemo totam sed doloribus atque, non possimus. Cum dicta autem officia officiis magni.
    </p>

    <p>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam cumque dolorum mollitia.
    </p>
    
    <p>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam veritatis ratione ad, maiores sit labore voluptas voluptates aperiam laboriosam quam.
    </p>

    <img src="aa.png" alt="aa image" height="200px">
    <img src="sneaker1.png" alt="aa image" height="300px">

    <br>
    <br>
    <br>

    <div>
        <canvas id="myChart"></canvas>
    </div>
</body>
<script src="./chart.js"></script>
<script src="./all_sales.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

      
<script>
  const ctx = document.getElementById('myChart');
  var sale_dates = all_sales.map(item => new Date(`${item[0]} ${item[1]}`));
  // var sale_dates = all_sales.map(item => `${item[0]} ${item[1]}`);
  // var sale_dates = all_sales.map(item => `${item[0]}`);

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: sale_dates,
      datasets: [{
        label: 'Shoe price',
        data: all_sales.map(x => parseInt(x[3].slice(1))),
        borderWidth: 3
      }]
    },
    options: {
      scales: {
        x: {
          type: 'time',
          time: {
            displayFormats: {
              'minute': 'd MMM, h:m a'
            },
            tooltipFormat: "d MMM, H:mm a",
          },
          ticks: {
            maxTicksLimit: 5,
          },
        },
      },
      elements: {
        point: {
          pointBorderWidth: 1,
        }
      },
      plugins: {
        tooltip: {
          callbacks: {
            label: function(tooltipItem) {
              return `${tooltipItem.dataset.label}: ${all_sales[tooltipItem.dataIndex][3]}`
            },
            footer: function(tooltipItems) {
              tooltipItem = tooltipItems[0];
              return `Size: ${all_sales[tooltipItem.dataIndex][2]}`
            }
          }
        },
      },
    }
  });
</script>
</html>